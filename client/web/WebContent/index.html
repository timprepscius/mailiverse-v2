<!DOCTYPE HTML>
<html>
<head>
<title>Mail</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
<script type="text/javascript" src="__VERSION__/js/lib/require-min.js"></script>
<link href="__VERSION__/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="__VERSION__/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" media="screen">
<link href="__VERSION__/css/dashboard.css" rel="stylesheet" media="screen">
<link href="__VERSION__/css/typeahead-js-bootstrap3.css" rel="stylesheet" media="screen">

<link rel="stylesheet" type="text/css" href="__VERSION__/css/defaults.css" />
<link rel="stylesheet" type="text/css" href="__VERSION__/css/login.css" />


<script type="text/javascript">

//<link rel="stylesheet" type="text/css" href="css/app-login.css" />

VERSION = '__VERSION__';

require.config({
	waitSeconds: 0,
	baseUrl: '__VERSION__',
	paths: {
		jquery: 'js/lib/jquery-min',
		jqueryappear: 'js/lib/jquery.appear',
		typeahead: 'js/lib/typeahead',
		underscore: 'js/lib/underscore-min',
		bootstrap: 'bootstrap/js/bootstrap',

		backbone: 'js/lib/backbone',
		modelBinder: 'js/lib/Backbone.ModelBinder',
		collectionBinder: 'js/lib/Backbone.CollectionBinder',
		pageable: 'js/lib/backbone-pageable',
		
		openpgp: 'js/crypt/openpgp',
		sjcl: 'js/crypt/sjcl',
		mime: 'js/lib/Mime',
		base64: 'js/crypt/Base64',
		base16: 'js/crypt/Base16',
		aes: 'js/crypt/cryptojs-aes',
		
		async: 'js/async/Async',
		dispatch: 'js/async/Dispatch',
		support: 'js/async/Support',
		
		ckeditor: 'ckeditor/ckeditor',
		ckeditor_adapter: 'ckeditor/adapters/jquery',
		
	},
	shim: {
		bootstrap: { deps: ['jquery'] },
		ckeditor: { deps: ['jquery'] },
		ckeditor_adapter : { deps: ['ckeditor'] },
		sjcl : { deps: [] },
		aes: { deps: [] },
		jqueryappear: { deps: ['jquery'] },
		typeahead: { deps: ['jquery'] },
	}
});
</script>
</head>
<body>

<div id="mailiverse-application"></div>

<script type="text/javascript">

require ([
	'js/lib/require-plugin-text',
	'js/lib/encoding',
	
	'jquery',
	'jqueryappear',
	'typeahead',
	'bootstrap',
	'backbone',
	'ckeditor',
	'ckeditor_adapter',
	
	'js/lib/Encodings',
	'js/lib/Sandbox',
	
	'js/mech/JavaScriptPrototypeExtensions',
	'js/mech/BackboneAtomicSave',
	'js/mech/BackboneEncryption',
	'js/mech/BackboneSyncCollisions',
	'js/mech/BackboneSyncedOnce',
	'js/mech/BackboneSession',
	
	'js/Util',
	'js/Crypto',
	'js/Constants',
], function () {
	require ([
	    
	    'js/model/App',
	    'js/model/Login',
		'js/model/User', 
		'js/model/Folder', 
		'js/model/Conversation', 
		'js/model/ConversationReference', 
		'js/model/Mail',
		'js/model/Original',
		'js/model/DecryptedOriginal',
		'js/model/Contact',
		'js/model/Key',
		
		'js/view/FolderListView',
		'js/view/ConversationListView',
		'js/view/ConversationView',
		'js/view/MailListView',
		'js/view/MailView',
		'js/view/AppView',
		'js/view/UpdateLoginView',
		'js/view/LoginView',
		'js/view/SignupView',
		'js/view/MainView',
		'js/view/ComposeView',
		'js/view/SyncView',
		'js/view/DownloadMailView',
		'js/view/ProfileView',
		'js/view/KeysView',
	
		'js/mech/MailReceiver',
		'js/mech/MailSender',
		'js/mech/LoginProcessor',
		'js/mech/SignupProcessor',
		'js/mech/UpdateLoginProcessor',
	    'js/mech/PGPLookUp',
	    'js/mech/SignatureProcessor',
		
		'js/Test',
	], function () {
		
		main();
	
	})
});

</script>
</body>
</html>